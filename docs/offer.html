<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <title>Sale Maps ¬∑ –û—Ñ–µ—Ä—Ç–∞ –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</title>
    <link rel="stylesheet" href="./style.css" />
</head>

<body data-page="offer">
    <div class="wrap">
        <div class="top">
            <div class="brand">
                <h1>–û—Ñ–µ—Ä—Ç–∞ –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</h1>
                <p>
                    –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥–∞–≤—Ü–µ, —É—Å–ª—É–≥–∞—Ö –∏ —É—Å–ª–æ–≤–∏—è—Ö –æ–ø–ª–∞—Ç—ã
                </p>
            </div>
            <a class="chip" href="./index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        </div>

        <div class="card doc">
            <h2>–ü—Ä–æ–¥–∞–≤–µ—Ü</h2>
            <ul class="doc-list">
                <li>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ: Sale Maps</li>
                <li>–°—Ç–∞—Ç—É—Å: —Å–∞–º–æ–∑–∞–Ω—è—Ç—ã–π (–ù–ü–î)</li>
                <li>–§–ò–û: –í–∏–Ω–µ–Ω–∫–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ù–∏–∫–æ–ª–∞–µ–≤–∏—á</li>
                <li>–ò–ù–ù: 701747740920</li>
                <li>–ì–æ—Ä–æ–¥: –¢–æ–º—Å–∫</li>
                <li>Email: silvershtain@mail.ru</li>
            </ul>
        </div>

        <div class="card doc">
            <h2>–û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥</h2>
            <p>
                –ü—Ä–æ–¥–∞–∂–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ (.kmz) —Å –ø–æ–¥–±–æ—Ä–∫–∞–º–∏ —Ç–æ—á–µ–∫ –¥–ª—è Organic Maps / MAPS.ME
                –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –≥–æ—Ä–æ–¥–∞–º.
            </p>
            <p>
                –î–æ—Å—Ç—É–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã: —Ñ–∞–π–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —á–∞—Ç Telegram.
            </p>
        </div>

        <div class="card doc">
            <h2>–¢–æ–≤–∞—Ä—ã –∏ —Ü–µ–Ω—ã</h2>
            <ul id="products-list" class="doc-list">
                <li>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞‚Ä¶</li>
            </ul>
            <div class="doc-note">
                –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –∏ —Å–æ—Å—Ç–∞–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ –¥–∞–Ω–Ω—ã–º –≤–∏—Ç—Ä–∏–Ω—ã.
            </div>
        </div>

        <div class="card doc">
            <h2>–û–ø–ª–∞—Ç–∞</h2>
            <ul class="doc-list">
                <li>–û–ø–ª–∞—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –æ–Ω–ª–∞–π–Ω (–±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã –†–§ –∏ –°–ë–ü —á–µ—Ä–µ–∑ Robokassa).</li>
                <li>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏.</li>
            </ul>
        </div>

        <div class="card doc">
            <h2>–£—Å–ª–æ–≤–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è</h2>
            <ul class="doc-list">
                <li>–§–∞–π–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã.</li>
                <li>–ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –ø—Ä–∏—à—ë–ª, –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞ email ‚Äî –º—ã –æ—Ç–ø—Ä–∞–≤–∏–º –µ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ.</li>
            </ul>
        </div>

        <div class="card doc">
            <h2>–í–æ–∑–≤—Ä–∞—Ç –∏ –æ—Ç–∫–∞–∑</h2>
            <ul class="doc-list">
                <li>–î–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–∞ –≤–æ–∑–º–æ–∂–µ–Ω –ø–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç.</li>
                <li>–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –≤–æ–∑–≤—Ä–∞—Ç, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è.</li>
                <li>–ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∏–ª–∏ –µ—Å—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ ‚Äî –º—ã —É—Å—Ç—Ä–∞–Ω–∏–º –ø—Ä–æ–±–ª–µ–º—É –∏–ª–∏ –≤–µ—Ä–Ω—ë–º –æ–ø–ª–∞—Ç—É.</li>
            </ul>
        </div>

        <div class="footer">
            ¬© Sale Maps ¬∑ 2026 ¬∑ <a href="./index.html">–í–∏—Ç—Ä–∏–Ω–∞</a>
        </div>
    </div>

    <script>
        const list = document.getElementById('products-list');

        function priceLabel(p){
            if (p && p.priceRub != null) return `${p.priceRub} ‚ÇΩ`;
            const stars = Number(p?.priceStars || 0);
            if (!Number.isFinite(stars) || stars <= 0) return '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ';
            return `${stars} ‚≠ê Stars`;
        }

        function loadProducts(){
            fetch('./products.json', { cache: 'no-store' })
                .then((res) => res.json())
                .then((data) => {
                    const cities = Array.isArray(data?.cities) ? data.cities : [];
                    const products = Array.isArray(data?.products) ? data.products : [];
                    const cityMap = new Map(cities.map((c) => [String(c.id), c]));
                    const active = products.filter((p) => p && p.active !== false);

                    if (!active.length){
                        list.innerHTML = '<li>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.</li>';
                        return;
                    }

                    list.innerHTML = active.map((p) => {
                        const city = cityMap.get(String(p.cityId)) || {};
                        const cityName = city?.name ? `${city.name}` : '–ì–æ—Ä–æ–¥';
                        const title = p?.title ? ` ‚Äî ${p.title}` : '';
                        return `<li>${cityName}${title}: ${priceLabel(p)}</li>`;
                    }).join('');
                })
                .catch(() => {
                    list.innerHTML = '<li>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤.</li>';
                });
        }

        loadProducts();
    </script>
</body>
</html>
