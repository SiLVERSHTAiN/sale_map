<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <title>Sale Maps ¬∑ –û—Ñ–µ—Ä—Ç–∞ –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</title>
    <link rel="stylesheet" href="./style.css" />
</head>

<body data-page="offer">
    <div class="wrap">
        <div class="top">
            <div class="brand">
                <h1>–û—Ñ–µ—Ä—Ç–∞ –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</h1>
                <p>
                    –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥–∞–≤—Ü–µ, —É—Å–ª—É–≥–∞—Ö –∏ —É—Å–ª–æ–≤–∏—è—Ö –æ–ø–ª–∞—Ç—ã
                </p>
            </div>
            <a class="chip" href="./index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        </div>

        <div class="doc-grid">
            <div class="card doc">
                <div class="doc-head">
                    <div class="doc-icon">üë§</div>
                    <div>
                        <h2>–ü—Ä–æ–¥–∞–≤–µ—Ü</h2>
                        <div class="doc-sub">–†–µ–∫–≤–∏–∑–∏—Ç—ã —Å–∞–º–æ–∑–∞–Ω—è—Ç–æ–≥–æ</div>
                    </div>
                </div>
                <div class="doc-box">
                    <div class="doc-lines">
                        <div class="doc-line"><span class="label">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</span><span class="value">Sale Maps</span></div>
                        <div class="doc-line"><span class="label">–°—Ç–∞—Ç—É—Å</span><span class="value">–°–∞–º–æ–∑–∞–Ω—è—Ç—ã–π (–ù–ü–î)</span></div>
                        <div class="doc-line"><span class="label">–§–ò–û</span><span class="value">–í–∏–Ω–µ–Ω–∫–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ù–∏–∫–æ–ª–∞–µ–≤–∏—á</span></div>
                        <div class="doc-line"><span class="label">–ò–ù–ù</span><span class="value">701747740920</span></div>
                        <div class="doc-line"><span class="label">–ì–æ—Ä–æ–¥</span><span class="value">–¢–æ–º—Å–∫</span></div>
                        <div class="doc-line"><span class="label">Email</span><span class="value">silvershtain@mail.ru</span></div>
                    </div>
                </div>
            </div>

            <div class="card doc">
                <div class="doc-head">
                    <div class="doc-icon">üß≠</div>
                    <div>
                        <h2>–û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥</h2>
                        <div class="doc-sub">–¶–∏—Ñ—Ä–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –∏ –º–∞—Ä—à—Ä—É—Ç—ã</div>
                    </div>
                </div>
                <div class="doc-box">
                    <ul class="doc-list">
                        <li>–ü—Ä–æ–¥–∞–∂–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ (.kmz) —Å –ø–æ–¥–±–æ—Ä–∫–∞–º–∏ —Ç–æ—á–µ–∫ –ø–æ –≥–æ—Ä–æ–¥–∞–º.</li>
                        <li>–§–∞–π–ª—ã –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è Organic Maps / MAPS.ME.</li>
                        <li>–î–æ—Å—Ç—É–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã.</li>
                    </ul>
                </div>
            </div>

            <div class="card doc doc-span">
                <div class="doc-head">
                    <div class="doc-icon">üßæ</div>
                    <div>
                        <h2>–¢–æ–≤–∞—Ä—ã –∏ —Ü–µ–Ω—ã</h2>
                        <div class="doc-sub">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∏–∑ –≤–∏—Ç—Ä–∏–Ω—ã</div>
                    </div>
                </div>
                <div class="doc-box">
                    <ul id="products-list" class="doc-list">
                        <li>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞‚Ä¶</li>
                    </ul>
                </div>
                <div class="doc-note">
                    –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –∏ —Å–æ—Å—Ç–∞–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
                </div>
            </div>

            <div class="card doc">
                <div class="doc-head">
                    <div class="doc-icon">üí≥</div>
                    <div>
                        <h2>–û–ø–ª–∞—Ç–∞</h2>
                        <div class="doc-sub">–û–Ω–ª–∞–π–Ω‚Äë–æ–ø–ª–∞—Ç–∞</div>
                    </div>
                </div>
                <div class="doc-box">
                    <ul class="doc-list">
                        <li>–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã –†–§ –∏ –°–ë–ü —á–µ—Ä–µ–∑ –ÆKassa.</li>
                        <li>–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ (USDT) ‚Äî –ø–æ –∑–∞–ø—Ä–æ—Å—É.</li>
                        <li>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏.</li>
                    </ul>
                </div>
            </div>

            <div class="card doc">
                <div class="doc-head">
                    <div class="doc-icon">üì¶</div>
                    <div>
                        <h2>–£—Å–ª–æ–≤–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è</h2>
                        <div class="doc-sub">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                    </div>
                </div>
                <div class="doc-box">
                    <ul class="doc-list">
                        <li>–§–∞–π–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã.</li>
                        <li>–ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –ø—Ä–∏—à—ë–ª ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞ email, –º—ã –æ—Ç–ø—Ä–∞–≤–∏–º –ø–æ–≤—Ç–æ—Ä–Ω–æ.</li>
                    </ul>
                </div>
            </div>

            <div class="card doc doc-span">
                <div class="doc-head">
                    <div class="doc-icon">‚Ü©Ô∏è</div>
                    <div>
                        <h2>–í–æ–∑–≤—Ä–∞—Ç –∏ –æ—Ç–∫–∞–∑</h2>
                        <div class="doc-sub">–¶–∏—Ñ—Ä–æ–≤–æ–π —Ç–æ–≤–∞—Ä</div>
                    </div>
                </div>
                <div class="doc-box">
                    <ul class="doc-list">
                        <li>–î–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –≤–ø—Ä–∞–≤–µ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –∑–∞–∫–∞–∑–∞ –∏ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç.</li>
                        <li>–¶–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–∞ (.kmz). –ú–æ–º–µ–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞ (–∏–ª–∏ —Å—Å—ã–ª–∫–∏) –≤ —á–∞—Ç Telegram.</li>
                        <li>–ü–æ—Å–ª–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ª—É—á–∞–µ–≤, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω, –ø–æ–≤—Ä–µ–∂–¥—ë–Ω –∏–ª–∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—é).</li>
                        <li>–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî —É—Å—Ç—Ä–∞–Ω–∏–º –µ—ë –∏–ª–∏ –≤–µ—Ä–Ω—ë–º –æ–ø–ª–∞—Ç—É.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer">
            ¬© Sale Maps ¬∑ 2026 ¬∑ <a href="./index.html">–í–∏—Ç—Ä–∏–Ω–∞</a>
        </div>
    </div>

    <script>
        const list = document.getElementById('products-list');

        function priceLabel(p){
            if (p && p.priceRub != null) {
                const now = Number(p.priceRub || 0);
                const old = Number(p.priceRubOld || 0);
                const usdt = Number(p.priceUsdt || 0);
                const rubPart = Number.isFinite(old) && old > now
                    ? `${now} ‚ÇΩ (–≤–º–µ—Å—Ç–æ ${old} ‚ÇΩ)`
                    : `${now} ‚ÇΩ`;
                const usdtPart = Number.isFinite(usdt) && usdt > 0 ? ` / ${usdt} USDT` : '';
                return rubPart + usdtPart;
            }
            const stars = Number(p?.priceStars || 0);
            if (!Number.isFinite(stars) || stars <= 0) return '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ';
            return `${stars} ‚≠ê Stars`;
        }

        function loadProducts(){
            fetch('./products.json', { cache: 'no-store' })
                .then((res) => res.json())
                .then((data) => {
                    const cities = Array.isArray(data?.cities) ? data.cities : [];
                    const products = Array.isArray(data?.products) ? data.products : [];
                    const cityMap = new Map(cities.map((c) => [String(c.id), c]));
                    const active = products.filter((p) => p && p.active !== false);

                    if (!active.length){
                        list.innerHTML = '<li>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.</li>';
                        return;
                    }

                    list.innerHTML = active.map((p) => {
                        const city = cityMap.get(String(p.cityId)) || {};
                        const cityName = city?.name ? `${city.name}` : '–ì–æ—Ä–æ–¥';
                        const title = p?.title ? ` ‚Äî ${p.title}` : '';
                        return `<li>${cityName}${title}: ${priceLabel(p)}</li>`;
                    }).join('');
                })
                .catch(() => {
                    list.innerHTML = '<li>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤.</li>';
                });
        }

        loadProducts();
    </script>
</body>
</html>
